<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div *ngFor="let field of fields">
    <label>{{ field.label }}</label>
    <input [type]="field.type" [formControlName]="field.name" />
    <mat-error *ngIf="form.get(field.name)?.hasError('required')"
      >This field is required</mat-error
    >
  </div>
  <button type="submit">Submit</button>
</form>
